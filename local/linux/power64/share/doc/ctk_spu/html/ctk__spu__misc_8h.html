<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ctk: base/spu/ctk_spu_misc.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_f74261709cb32dec15e16b7013d14b12.html">base</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_eada3c8d578d8b5d7bf9f8bdf68d38dd.html">spu</a></div>
<h1>ctk_spu_misc.h File Reference</h1>Definitions for SPU misc routines. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="ctk__spu__common_8h-source.html">ctk_spu_common.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="ctk__spu__event_8h-source.html">ctk_spu_event.h</a>&quot;</code><br>
<code>#include &lt;limits.h&gt;</code><br>

<p>
<a href="ctk__spu__misc_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ctk__spu__misc_8h.html#c4380a8054e27e69eecebe784267e4e3">ctk_init_rand</a>()&nbsp;&nbsp;&nbsp;ctk_srand(spu_readch(SPU_RdDec))</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ctk__spu__misc_8h.html#3e578911b3d4b8073b47074ecafcec59">ctk_usleep</a> (unsigned long usec)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ctk__spu__misc_8h.html#e8f929ede32896fa28dae8f1c1ef4890">ctk_sleep</a> (unsigned long sec)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ctk__spu__misc_8h.html#37c5a7bccd172100a0d36a6fbe522702">ctk_srand</a> (signed int s)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static signed int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ctk__spu__misc_8h.html#0542c18889e69c664dbfce5138abc50d">ctk_rand</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ctk__spu__misc_8h.html#93e83bed67b18b449bffe5126ade488b">ctk_write_barrier</a> (int tag)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ctk__spu__misc_8h.html#5e2e5130af175e0e4c8082aa668810df">ctk_full_barrier</a> (int tag)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ctk__spu__misc_8h.html#da8a6c01ccdb01858e07b27280c030f0">ctk_eieio</a> (int tag)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ctk__spu__misc_8h.html#442af0182daeb6730fb09450ef9af6b9">ctk_sync</a> (int tag)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ctk__spu__misc_8h.html#1b31c1a91f73decddfa50614ba00ed6f">ctk_barrier</a> (int tag)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ctk__spu__misc_8h.html#cdfaf03e0322a6607561bdadf3155668">ctk_nlz</a> (unsigned int x) __attribute__((always_inline))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ctk__spu__misc_8h.html#6c5db51cd61bb4812c5e52daff0ec571">ctk_nlz64</a> (unsigned long long x) __attribute__((always_inline))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ctk__spu__misc_8h.html#e743d3c28fa83a1900d9ae15082cc832">ctk_nlo</a> (unsigned int x)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ctk__spu__misc_8h.html#f712639b32e8c36c3f2f2f210fa6148b">ctk_nlo64</a> (unsigned long long x)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="73cddcdc048ce193b2c03ab551f66def"></a><!-- doxytag: member="ctk_spu_misc.h::__ctk_rand_seed" ref="73cddcdc048ce193b2c03ab551f66def" args="" -->
static signed&nbsp;</td><td class="memItemRight" valign="bottom"><b>__ctk_rand_seed</b> = 1</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Definitions for SPU misc routines. 
<p>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="c4380a8054e27e69eecebe784267e4e3"></a><!-- doxytag: member="ctk_spu_misc.h::ctk_init_rand" ref="c4380a8054e27e69eecebe784267e4e3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ctk_init_rand          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;ctk_srand(spu_readch(SPU_RdDec))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes the random seed with Decrementer counter 
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="1b31c1a91f73decddfa50614ba00ed6f"></a><!-- doxytag: member="ctk_spu_misc.h::ctk_barrier" ref="1b31c1a91f73decddfa50614ba00ed6f" args="(int tag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ctk_barrier           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tag</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Issue an MFC barrier 
</div>
</div><p>
<a class="anchor" name="da8a6c01ccdb01858e07b27280c030f0"></a><!-- doxytag: member="ctk_spu_misc.h::ctk_eieio" ref="da8a6c01ccdb01858e07b27280c030f0" args="(int tag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ctk_eieio           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tag</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Issue an MFC eieio (enforce in-order execution of I/O) command. EIEIO creates a store-store memory barrier for cacheable memory and creates a full barrier for noncacheable memory (i.e. MMIO or PIO registers). 
</div>
</div><p>
<a class="anchor" name="5e2e5130af175e0e4c8082aa668810df"></a><!-- doxytag: member="ctk_spu_misc.h::ctk_full_barrier" ref="5e2e5130af175e0e4c8082aa668810df" args="(int tag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ctk_full_barrier           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tag</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Issue an MFC sync command to create a memory barrier. (alias to <a class="el" href="ctk__spu__misc_8h.html#442af0182daeb6730fb09450ef9af6b9">ctk_sync()</a>) 
</div>
</div><p>
<a class="anchor" name="e743d3c28fa83a1900d9ae15082cc832"></a><!-- doxytag: member="ctk_spu_misc.h::ctk_nlo" ref="e743d3c28fa83a1900d9ae15082cc832" args="(unsigned int x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ctk_nlo           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>x</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the number of leading ones 
</div>
</div><p>
<a class="anchor" name="f712639b32e8c36c3f2f2f210fa6148b"></a><!-- doxytag: member="ctk_spu_misc.h::ctk_nlo64" ref="f712639b32e8c36c3f2f2f210fa6148b" args="(unsigned long long x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ctk_nlo64           </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&nbsp;</td>
          <td class="paramname"> <em>x</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the number of leading ones in the given double word 
</div>
</div><p>
<a class="anchor" name="cdfaf03e0322a6607561bdadf3155668"></a><!-- doxytag: member="ctk_spu_misc.h::ctk_nlz" ref="cdfaf03e0322a6607561bdadf3155668" args="(unsigned int x) __attribute__((always_inline))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ctk_nlz           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>x</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the number of leading zeros 
</div>
</div><p>
<a class="anchor" name="6c5db51cd61bb4812c5e52daff0ec571"></a><!-- doxytag: member="ctk_spu_misc.h::ctk_nlz64" ref="6c5db51cd61bb4812c5e52daff0ec571" args="(unsigned long long x) __attribute__((always_inline))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ctk_nlz64           </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&nbsp;</td>
          <td class="paramname"> <em>x</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the number of leading zeros in the given double word 
</div>
</div><p>
<a class="anchor" name="0542c18889e69c664dbfce5138abc50d"></a><!-- doxytag: member="ctk_spu_misc.h::ctk_rand" ref="0542c18889e69c664dbfce5138abc50d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static signed int ctk_rand           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Generates a random 31-bit integer. (simple LCG &amp; not efficient) 
</div>
</div><p>
<a class="anchor" name="e8f929ede32896fa28dae8f1c1ef4890"></a><!-- doxytag: member="ctk_spu_misc.h::ctk_sleep" ref="e8f929ede32896fa28dae8f1c1ef4890" args="(unsigned long sec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ctk_sleep           </td>
          <td>(</td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>sec</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sleeps (spin-lock-waits) for the given seconds. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>sec</em>&nbsp;</td><td>- sleep period </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 on error </dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>This reads/writes decrementer. </dd></dl>

</div>
</div><p>
<a class="anchor" name="37c5a7bccd172100a0d36a6fbe522702"></a><!-- doxytag: member="ctk_spu_misc.h::ctk_srand" ref="37c5a7bccd172100a0d36a6fbe522702" args="(signed int s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ctk_srand           </td>
          <td>(</td>
          <td class="paramtype">signed int&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes an initial random number. (simple LCG) 
</div>
</div><p>
<a class="anchor" name="442af0182daeb6730fb09450ef9af6b9"></a><!-- doxytag: member="ctk_spu_misc.h::ctk_sync" ref="442af0182daeb6730fb09450ef9af6b9" args="(int tag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ctk_sync           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tag</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Issue an MFC sync command 
</div>
</div><p>
<a class="anchor" name="3e578911b3d4b8073b47074ecafcec59"></a><!-- doxytag: member="ctk_spu_misc.h::ctk_usleep" ref="3e578911b3d4b8073b47074ecafcec59" args="(unsigned long usec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ctk_usleep           </td>
          <td>(</td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>usec</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sleeps (spin-lock-waits) for the given microseconds. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>usec</em>&nbsp;</td><td>- sleep period </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 on error </dd></dl>

</div>
</div><p>
<a class="anchor" name="93e83bed67b18b449bffe5126ade488b"></a><!-- doxytag: member="ctk_spu_misc.h::ctk_write_barrier" ref="93e83bed67b18b449bffe5126ade488b" args="(int tag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ctk_write_barrier           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tag</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Issues an MFC eieio (enforce in-order execution of I/O) command. EIEIO creates a store-store memory barrier for cacheable memory and creates a full barrier for noncacheable memory (i.e. MMIO or PIO registers). (alias to <a class="el" href="ctk__spu__misc_8h.html#da8a6c01ccdb01858e07b27280c030f0">ctk_eieio()</a>) 
</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Mon Jun 28 23:24:52 2010 for ctk by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
