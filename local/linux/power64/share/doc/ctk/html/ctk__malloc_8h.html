<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ctk: base/ctk_malloc.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_f74261709cb32dec15e16b7013d14b12.html">base</a></div>
<h1>ctk_malloc.h File Reference</h1>Definitions for CTK error numbers and error routines. <a href="#_details">More...</a>
<p>
<code>#include &lt;errno.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &quot;<a class="el" href="ctk__common_8h-source.html">ctk_common.h</a>&quot;</code><br>

<p>
<a href="ctk__malloc_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ctk__malloc_8h.html#e461dc7147f6a5297940ea14b359c97e">ctk_alloca_align</a>(_retptr_, _size_, _alignment_)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>ctk_alloca_align_typed</b>(_retptr_, _type_, _size_, _alignment_)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ctk__malloc_8h.html#e758137f99622f598ac38b20bf1f4e2d">ctk_memalign</a> (void **memptr, size_t alignment, size_t size)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ctk__malloc_8h.html#ef989b6da812282c2510d63318317edd">ctk_free_align</a> (void *ptr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3085431ec2e155f4e9ec7878af379f95"></a><!-- doxytag: member="ctk_malloc.h::ctk_memalign_realloc" ref="3085431ec2e155f4e9ec7878af379f95" args="(void **memptr, size_t alignment, size_t size)" -->
static int&nbsp;</td><td class="memItemRight" valign="bottom"><b>ctk_memalign_realloc</b> (void **memptr, size_t alignment, size_t size)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ctk__malloc_8h.html#d5224f83cf95b21af664fd3ebf26b807">ctk_malloc_align</a> (size_t size, size_t alignment) <a class="el" href="ctk__spinlock_8h.html#396a4d4639359c3c22b247ef3e9ce02c">__attribute__</a>((always_inline))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ctk__malloc_8h.html#539d4e90343c1897498fa9629f9fdc3f">ctk_realloc_align</a> (void *p, size_t size, size_t alignment) <a class="el" href="ctk__spinlock_8h.html#396a4d4639359c3c22b247ef3e9ce02c">__attribute__</a>((always_inline))</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Definitions for CTK error numbers and error routines. 
<p>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="e461dc7147f6a5297940ea14b359c97e"></a><!-- doxytag: member="ctk_malloc.h::ctk_alloca_align" ref="e461dc7147f6a5297940ea14b359c97e" args="(_retptr_, _size_, _alignment_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ctk_alloca_align          </td>
          <td>(</td>
          <td class="paramtype">_retptr_,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_size_,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_alignment_&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordtype">char</span> CTK_UNIQ_NAME(_tmp_ ## _retptr_) [<a class="code" href="ctk__types_8h.html#f57b0e1b422a8529388fdf04f6281c4c">ALIGN_UP</a>((_size_), (_alignment_)) + (_alignment_)]; \
    _retptr_ = (<span class="keywordtype">void</span>*)<a class="code" href="ctk__types_8h.html#babadb03d9324f59b489dda4388bd7d1">ALIGN_UP_PTR</a>(CTK_UNIQ_NAME(_tmp_ ## _retptr_), (_alignment_));
</pre></div>Allocates an aligned buffer on the stack (i.e. alloca). <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>_retptr_</em>&nbsp;</td><td>- the returned pointer </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_size_</em>&nbsp;</td><td>- allocation size </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_alignment_</em>&nbsp;</td><td>- alignment size </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="57aaf311a92bf56879efa83933110412"></a><!-- doxytag: member="ctk_malloc.h::ctk_alloca_align_typed" ref="57aaf311a92bf56879efa83933110412" args="(_retptr_, _type_, _size_, _alignment_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ctk_alloca_align_typed          </td>
          <td>(</td>
          <td class="paramtype">_retptr_,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_type_,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_size_,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_alignment_&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordtype">char</span> CTK_UNIQ_NAME(_tmp_ ## _retptr_) [<a class="code" href="ctk__types_8h.html#f57b0e1b422a8529388fdf04f6281c4c">ALIGN_UP</a>((_size_), (_alignment_)) + (_alignment_)]; \
    _retptr_ = (_type_)<a class="code" href="ctk__types_8h.html#babadb03d9324f59b489dda4388bd7d1">ALIGN_UP_PTR</a>(CTK_UNIQ_NAME(_tmp_ ## _retptr_), (_alignment_));
</pre></div>
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ef989b6da812282c2510d63318317edd"></a><!-- doxytag: member="ctk_malloc.h::ctk_free_align" ref="ef989b6da812282c2510d63318317edd" args="(void *ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ctk_free_align           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>ptr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Frees the given pointer. The pointer had to be allocated by <a class="el" href="ctk__malloc_8h.html#e758137f99622f598ac38b20bf1f4e2d">ctk_memalign</a> or <a class="el" href="ctk__malloc_8h.html#d5224f83cf95b21af664fd3ebf26b807">ctk_malloc_align</a>. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>ptr</em>&nbsp;</td><td>- Pointer to the allocated memory to be freed. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="d5224f83cf95b21af664fd3ebf26b807"></a><!-- doxytag: member="ctk_malloc.h::ctk_malloc_align" ref="d5224f83cf95b21af664fd3ebf26b807" args="(size_t size, size_t alignment) __attribute__((always_inline))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void * ctk_malloc_align           </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>alignment</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Allocates 'size' bytes of a memory buffer and returns a pointer to the allocated memory. The memory address and allocated buffer size will be a multiple of 'alignment'. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>size</em>&nbsp;</td><td>- size </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>alignment</em>&nbsp;</td><td>- alignment </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a pointer to the buffer on success, NULL on failure. </dd></dl>

</div>
</div><p>
<a class="anchor" name="e758137f99622f598ac38b20bf1f4e2d"></a><!-- doxytag: member="ctk_malloc.h::ctk_memalign" ref="e758137f99622f598ac38b20bf1f4e2d" args="(void **memptr, size_t alignment, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ctk_memalign           </td>
          <td>(</td>
          <td class="paramtype">void **&nbsp;</td>
          <td class="paramname"> <em>memptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>alignment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Allocates `size' bytes of a memory buffer and returns a pointer to the allocated memory in `*memptr'. The memory address will be a multiple of `alignment'. The allocated memory must be freed by <a class="el" href="ctk__malloc_8h.html#ef989b6da812282c2510d63318317edd">ctk_free_align</a>. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>memptr</em>&nbsp;</td><td>- Pointer to the pointer for the allocated buffer. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>alignment</em>&nbsp;</td><td>- alignment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>size</em>&nbsp;</td><td>- size </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>CTK_SUCCESS (0) on success, errno (non-zero) on failure. </dd></dl>

</div>
</div><p>
<a class="anchor" name="539d4e90343c1897498fa9629f9fdc3f"></a><!-- doxytag: member="ctk_malloc.h::ctk_realloc_align" ref="539d4e90343c1897498fa9629f9fdc3f" args="(void *p, size_t size, size_t alignment) __attribute__((always_inline))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void * ctk_realloc_align           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>alignment</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reallocates 'size' bytes of a memory buffer and returns a pointer to the allocated memory. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>ptr</em>&nbsp;</td><td>- pointer to be realloced </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>size</em>&nbsp;</td><td>- size </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>alignment</em>&nbsp;</td><td>- alignment </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a pointer to the buffer on success, NULL on failure. </dd></dl>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Mon Jun 28 23:24:40 2010 for ctk by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
